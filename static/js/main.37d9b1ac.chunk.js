(this.webpackJsonpcatmash=this.webpackJsonpcatmash||[]).push([[0],{198:function(t){t.exports=JSON.parse('["http://24.media.tumblr.com/tumblr_m82woaL5AD1rro1o5o1_1280.jpg","http://24.media.tumblr.com/tumblr_m29a9d62C81r2rj8po1_500.jpg","http://25.media.tumblr.com/tumblr_m4bgd9OXmw1qioo2oo1_500.jpg","http://24.media.tumblr.com/tumblr_lzxok2e2kX1qgjltdo1_1280.jpg","http://25.media.tumblr.com/tumblr_m33r7lpy361qzi9p6o1_500.jpg","http://25.media.tumblr.com/tumblr_m2p6dxhxul1qdvz31o1_500.jpg","http://24.media.tumblr.com/tumblr_m1ku66jPWV1qze0hyo1_400.jpg","http://25.media.tumblr.com/tumblr_m4pwa9EXE41r6jd7fo1_500.jpg","http://25.media.tumblr.com/tumblr_m6x62cjEz31qk4s2co1_1280.jpg","http://25.media.tumblr.com/tumblr_lyj0y5tg4L1qbwemzo1_1280.jpg","http://25.media.tumblr.com/tumblr_m44w9nI50Y1qzyqubo1_500.jpg","http://24.media.tumblr.com/tumblr_lzqv50jiCj1qzex9io1_1280.jpg","http://25.media.tumblr.com/tumblr_lrlhw46Re81r3q92to1_500.jpg","http://25.media.tumblr.com/tumblr_m3u1mfIZwv1rtqthio1_500.jpg","http://25.media.tumblr.com/Jjkybd3nS98hfqy8vevnj6R9_500.jpg","http://25.media.tumblr.com/tumblr_m4j6icIQdF1qzex9io1_1280.jpg","http://25.media.tumblr.com/5gI3dw08Qncg15r8LBMo8NMZo1_400.jpg","http://24.media.tumblr.com/tumblr_lg1hnknXjm1qfyzelo1_1280.jpg","http://25.media.tumblr.com/tumblr_kstpz9IxDK1qzefipo1_250.gif","http://25.media.tumblr.com/tumblr_m4s05iYQmN1r6jd7fo1_500.gif","http://24.media.tumblr.com/tumblr_m2gyauUXoh1qbe5pxo1_500.jpg","http://24.media.tumblr.com/tumblr_ltqi8k2OcP1qiyvcfo1_250.jpg","http://25.media.tumblr.com/tumblr_m20iu31nBD1qz4dkmo1_500.jpg","http://24.media.tumblr.com/tumblr_m11rjz2nrk1qznh2ao1_1280.jpg","http://25.media.tumblr.com/tumblr_luvlehQz7n1qgnva2o1_500.jpg","http://25.media.tumblr.com/tumblr_m2wvwmHrX61r73wdao1_250.gif","http://24.media.tumblr.com/tumblr_m0ljiiZ08O1r7plk4o1_500.jpg","http://24.media.tumblr.com/tumblr_lw9hu39q621qdvbl3o1_1280.jpg","http://29.media.tumblr.com/tumblr_m1k4ze7hja1r6b7kmo1_500.jpg","http://24.media.tumblr.com/tumblr_lnvz6gLbjS1qji0t2o1_500.jpg","http://27.media.tumblr.com/tumblr_lh6ywkF22D1qfyzelo1_1280.jpg","http://25.media.tumblr.com/tumblr_m4rorb74ne1qkk65ko1_1280.jpg","http://24.media.tumblr.com/tumblr_m44tfdCUcz1qzgoy8o1_1280.jpg","http://24.media.tumblr.com/tumblr_luu4l5AmkP1qzxrnuo1_1280.jpg","http://25.media.tumblr.com/tumblr_m1mls6SBfO1qze0hyo1_1280.jpg","http://24.media.tumblr.com/tumblr_mcg6abzbmT1qejbiro1_500.jpg","http://24.media.tumblr.com/tumblr_lqhtuoG1by1qbhms5o1_500.jpg","http://25.media.tumblr.com/tumblr_m4rwuzEHVz1r6jd7fo1_1280.jpg","http://25.media.tumblr.com/tumblr_lgt0zjaTik1qgnva2o1_500.png","http://25.media.tumblr.com/tumblr_lu8wwx12zx1qlyuwso1_1280.jpg","http://25.media.tumblr.com/tumblr_m4vzekUu7G1r6b7kmo1_500.jpg","http://24.media.tumblr.com/tumblr_lvfpb18iea1qi23vmo1_500.jpg","http://25.media.tumblr.com/tumblr_lx6uh8RO4r1qenqklo1_1280.jpg","http://25.media.tumblr.com/tumblr_m3g4wzlmaK1qzex9io1_500.jpg","http://24.media.tumblr.com/tumblr_m3gl5xsZGq1r73wdao1_1280.jpg","http://24.media.tumblr.com/tumblr_m4l704E3mL1qdajm7o1_500.jpg","http://25.media.tumblr.com/tumblr_lql6c16YhH1qdth8zo1_1280.jpg","http://24.media.tumblr.com/tumblr_m0umerwZ3L1qznclro1_1280.jpg","http://24.media.tumblr.com/tumblr_m3pv11WNcO1r5c1jmo1_1280.jpg","http://24.media.tumblr.com/tumblr_m1uu8abTLM1qd477zo1_500.jpg","http://25.media.tumblr.com/tumblr_m4apapdhVj1r18oqso1_500.jpg","http://25.media.tumblr.com/tumblr_m3gaff05EE1qddbvio1_500.jpg","http://24.media.tumblr.com/tumblr_m3nbobox8B1qj638ro1_1280.jpg","http://25.media.tumblr.com/tumblr_llahls2IeS1qjmniro1_250.gif","http://24.media.tumblr.com/tumblr_lnvyrt5j1M1qce7tgo1_500.gif","http://30.media.tumblr.com/tumblr_m2b0ykP6Fu1qzex9io1_1280.jpg","http://29.media.tumblr.com/tumblr_ly4w9oJVgE1r189uao1_500.jpg","http://28.media.tumblr.com/qgIb8tERiqzchkc2UFsyedLmo1_500.jpg","http://25.media.tumblr.com/tumblr_m4habeFR271qd477zo1_1280.jpg","http://25.media.tumblr.com/tumblr_m20bftDngo1qejbiro1_1280.jpg","http://24.media.tumblr.com/tumblr_lehgc4thel1qecpy9o1_500.gif","http://25.media.tumblr.com/tumblr_kqai1e03j91qzv5pwo1_500.jpg","http://24.media.tumblr.com/tumblr_ku726anOmb1qzrlhgo1_500.png","http://25.media.tumblr.com/tumblr_m3tpx8fsXX1qhwmnpo1_400.jpg","http://25.media.tumblr.com/tumblr_lhe1fu7JpG1qgnva2o1_500.png","http://24.media.tumblr.com/tumblr_m43mq45fgs1qzxrnuo1_1280.jpg","http://25.media.tumblr.com/tumblr_m4mo17vXSa1r6jd7fo1_500.jpg","http://25.media.tumblr.com/tumblr_m1oyzmlqEu1rsf53jo1_1280.jpg","http://25.media.tumblr.com/tumblr_lpl0cy8o5R1qdth8zo1_1280.jpg","http://24.media.tumblr.com/tumblr_lz5pu74OPk1qgjltdo1_1280.jpg","http://25.media.tumblr.com/tumblr_m7cjk9zTNM1qzex9io1_1280.jpg","http://25.media.tumblr.com/tumblr_m4gtikn86b1qztc0jo1_1280.jpg","http://25.media.tumblr.com/tumblr_m2xlwaadCC1qejbiro1_1280.jpg","http://24.media.tumblr.com/GxlDeM8kxl6gszkaC1RgD776o1_1280.jpg","http://25.media.tumblr.com/tumblr_m3khmzDXEo1qjc1a7o1_1280.jpg","http://25.media.tumblr.com/tumblr_lz8fwef0VA1qzv52ko1_1280.jpg","http://25.media.tumblr.com/tumblr_ma7j0aGNbB1r6jd7fo1_1280.jpg","http://25.media.tumblr.com/tumblr_m3pm45zC4v1qjahcpo1_500.jpg","http://25.media.tumblr.com/tumblr_lqv93f3ZQT1qi3974o1_500.jpg","http://24.media.tumblr.com/tumblr_m2lim4Wocd1qjev1to1_1280.jpg","http://25.media.tumblr.com/tumblr_m4qdjuybqb1r0wqrdo1_1280.jpg","http://25.media.tumblr.com/tumblr_m4pvakprVF1r6jd7fo1_500.jpg","http://25.media.tumblr.com/tumblr_m2g2ksSLML1qgkc80o1_400.gif","http://25.media.tumblr.com/tumblr_m3uxadNlfI1qejbiro1_1280.jpg","http://25.media.tumblr.com/tumblr_mc1lz78RNn1qjc1a7o1_1280.jpg","http://24.media.tumblr.com/tumblr_lht68lybsE1qcn249o1_250.gif","http://25.media.tumblr.com/tumblr_lidvsekFL91qzabkfo1_1280.jpg","http://25.media.tumblr.com/tumblr_lpcq3447RK1qbhms5o1_500.jpg","http://25.media.tumblr.com/tumblr_mbe1tuRvoN1rxer0vo1_1280.jpg","http://25.media.tumblr.com/tumblr_m47yaokX791qhwmnpo1_500.jpg","http://24.media.tumblr.com/tumblr_ll3uw0KDeM1qb8a3ro1_500.jpg","http://24.media.tumblr.com/tumblr_m1nn0aPJU31qejbiro1_1280.jpg","http://28.media.tumblr.com/tumblr_ly7rtpsCSc1qgop81o1_1280.jpg","http://24.media.tumblr.com/tumblr_lowyfwTewp1qbhms5o1_500.jpg","http://27.media.tumblr.com/tumblr_lwaso5dl5N1qbhms5o1_500.jpg","http://25.media.tumblr.com/tumblr_lst9zbbAGx1r4xjo2o1_1280.jpg","http://25.media.tumblr.com/tumblr_m44vnvR00W1rtuomto1_1280.jpg","http://24.media.tumblr.com/tumblr_kujwmnKr8k1qzpwi0o1_250.gif","http://25.media.tumblr.com/tumblr_lwip0fnA2D1qzv52ko1_1280.jpg","http://25.media.tumblr.com/tumblr_m3jbdxqnma1qa8o34o1_500.jpg"]')},199:function(t,e,n){t.exports=n.p+"static/media/loader.9471402a.gif"},203:function(t,e,n){t.exports=n.p+"static/media/cat-logo.8fe55bbb.png"},248:function(t,e,n){t.exports=n(463)},463:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(52),o=n.n(i),m=n(24),l=n(194),c=n(8),u=n(14),p=n(32),d=n.n(p),b=n(196),s=n(214),h=n(197),g=n(216),f=n(7),v=(n(257),new(function(t){function e(){var t;return Object(b.a)(this,e),(t=Object(s.a)(this,Object(h.a)(e).call(this,"CatMashDB"))).cats=void 0,t.version(1).stores({cats:"++id, image, currentElo, *eloEvolution"}),t.cats=t.table("cats"),t}return Object(g.a)(e,t),e}(f.a))),x=n(198),j=function(t,e){return 1/(1+Math.pow(10,(t-e)/400))},_=function(t,e){var n=j(t.value,e.value),a=j(e.value,t.value),r=t.value+30*(1-n),i=e.value+30*(0-a),o=new Date;return{winner:{value:r,date:o},loser:{value:i,date:o}}},y=function(t){return Math.floor(Math.random()*t)},w="loading",k="init",E="ready",q=r.a.createContext({appState:w,mash:{},nextMash:function(){},updateScore:function(){return Promise.resolve()},getCats:function(){return Promise.resolve([])},getCat:function(){return Promise.resolve({})}}),z=function(){return r.a.useContext(q)},O=n(10),C=n(9),N=n(199),M=n.n(N);function S(){var t=Object(O.a)(["\n  position: absolute;\n  top: var(--spacing-unit-3);\n  left: var(--spacing-unit-3);\n  height: 48px;\n  width: 48px;\n  user-select: none;\n\n  > a {\n    display: flex;\n    font-size: 3rem;\n    height: 100%;\n    width: 100%;\n    align-items: center;\n    justify-content: center;\n    background: -webkit-linear-gradient(0deg, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n  }\n"]);return S=function(){return t},t}var D={initial:{x:75,opacity:0},enter:{x:0,opacity:1},exit:{x:-75,opacity:0}},B=Object(C.a)(S()),I=function(t){var e=t.to;return r.a.createElement(c.b.span,{initial:"initial",animate:"enter",exit:"exit",className:B,variants:D},r.a.createElement(m.b,{to:e},"\u2190"))};function L(){var t=Object(O.a)(["\n  height: 120px;\n  width: 120px;\n  padding: 6px;\n  border-radius: 50%;\n  background-image: linear-gradient(to top right, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);\n  box-shadow: var(--box-shadow);\n\n  @media screen and (min-width: 992px) {\n    height: 240px;\n    width: 240px;\n  }\n\n  &.clickable {\n    cursor: pointer;\n  }\n\n  > div {\n    height: 100%;\n    width: 100%;\n    background-size: cover;\n    background-repeat: no-repeat;\n    border-radius: 50%;\n  }\n"]);return L=function(){return t},t}var P=Object(C.a)(L()),T=function(t){var e=t.className,n=t.id,i=t.image,o=t.onClick,m=t.variants,l=Object(a.useCallback)((function(){"function"===typeof o&&o(n)}),[n,o]);return r.a.createElement(c.b.div,{className:Object(C.b)(P,e,"function"===typeof o&&"clickable","cat"),onClick:l,initial:"init",animate:"enter",exit:"exit",whileTap:"tap",variants:m},r.a.createElement("div",{style:{backgroundImage:"url(".concat(i,")")}}))};function R(){var t=Object(O.a)(["\n  width: 60%;\n  max-width: 360px;\n  height: 3px;\n  background-color: var(--secondary-color);\n  position: relative;\n  border-radius: 2px;\n\n  > .progress-bar {\n    position: absolute;\n    height: 100%;\n    background-image: linear-gradient(to right, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);\n    border-radius: 2px;\n  }\n"]);return R=function(){return t},t}var X={init:{width:0},animate:function(t){return{width:"100%",transition:{type:"tween",ease:"linear",duration:t/1e3}}}},A=Object(C.a)(R()),G=function(t){var e=t.duration;return r.a.createElement("div",{className:Object(C.b)(A,"progress")},r.a.createElement(c.b.div,{animate:"animate",initial:"init",className:"progress-bar",variants:X,custom:e}))},W=n(217);n(305);function F(){var t=Object(O.a)(["\n  height: 100%;\n  max-width: 100%;\n  .simplebar-scrollbar {\n    width: 4px;\n    &.simplebar-visible::before {\n      opacity: 1;\n    }\n    &::before {\n      background-image: linear-gradient(to bottom, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);;\n      width: 4px;\n    },\n  },\n"]);return F=function(){return t},t}var J=Object(C.a)(F()),K=function(t){var e=t.className,n=t.children;return r.a.createElement(W.a,{className:Object(C.b)(J,e),children:n})};function V(){var t=Object(O.a)(["\n  background-color: var(--primary-color);\n  color: var(--text-color);\n  box-shadow: var(--raised-box-shadow);\n  padding: var(--spacing-unit-3);\n  border-radius: 4px;\n"]);return V=function(){return t},t}var Z=Object(C.a)(V()),Q=function(t){var e=t.payload;return t.active&&e?r.a.createElement("div",{className:Z},r.a.createElement("p",null,"Score: ",e[0].payload.value)):null};function U(){var t=Object(O.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  > img {\n    width: 60%;\n    max-width: 380px;\n  }\n\n  > .label {\n    margin-top: 50px;\n    height: 2rem;\n    font-size: 1.4rem;\n  }\n\n  > .progress {\n    margin-top: 50px;\n  }\n"]);return U=function(){return t},t}var H=Object(C.a)(U()),Y={enter:{opacity:1,transition:{duration:.4}},exit:{opacity:0,transition:{duration:.4}}},$=function(t){var e=t.label,n=t.timeout;return r.a.createElement(c.b.div,{className:H,animate:"enter",exit:"exit",variants:Y},r.a.createElement("img",{src:M.a,alt:"Chargement..."}),r.a.createElement("div",{className:"label"},e),r.a.createElement(G,{duration:n}))},tt=n(36),et=n(203),nt=n.n(et);function at(){var t=Object(O.a)(["\n  height: 100%;\n\n  > main {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    max-width: 800px;\n    width: 100%;\n    margin: auto;\n    overflow: visible !important;\n\n    h2 {\n      margin: 3rem;\n      text-align: center;\n    }\n\n    > div {\n      display: flex;\n      justify-content: space-evenly;\n\n      > .cat-container {\n        padding-top: 80px;\n      }\n    }\n\n    > .ranking-link-container {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      margin: auto;\n      height: 40px;\n      width: 180px;\n      background-image: linear-gradient(to top right, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);\n      color: #ffffff;\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n      box-shadow: var(--box-shadow);\n\n      > a {\n        display: flex;\n        height: 100%;\n        width: 100%;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n  }\n"]);return at=function(){return t},t}var rt=Object(C.a)(at()),it={enter:{opacity:1,transition:{duration:.4}},exit:{opacity:0}},ot={tap:{scale:1.2},init:{opacity:0,x:-200},enter:{opacity:1,x:0,transition:{duration:1,x:{type:"spring",stiffness:400,damping:35}}},exit:{opacity:0,x:-200,transition:{duration:.25}}},mt={tap:{scale:1.3},init:{opacity:0,x:200},enter:{opacity:1,x:0,transition:{duration:1,x:{type:"spring",stiffness:400,damping:35}}},exit:{opacity:0,x:200,transition:{duration:.25}}},lt=function(){var t=z(),e=t.mash,n=t.nextMash,i=t.updateScore,o=null===e||void 0===e?void 0:e.left,l=null===e||void 0===e?void 0:e.right,u=Object(a.useCallback)((function(t){i(t).then((function(){return n()}))}),[n,i]);return r.a.createElement(c.b.section,{animate:"enter",exit:"exit",variants:it,className:rt},r.a.createElement("header",null,r.a.createElement("img",{src:nt.a,alt:"Logo CatMash"}),r.a.createElement("h1",null,"CatMash")),r.a.createElement("main",null,r.a.createElement("h2",null,"Choisissez le chat le plus mignon"),o&&r.a.createElement("div",null,r.a.createElement("div",{className:"cat-container"},r.a.createElement(c.a,{exitBeforeEnter:!0},r.a.createElement(T,Object.assign({},o,{onClick:u,key:o.id,variants:ot})))),r.a.createElement("div",{className:"cat-container"},r.a.createElement(c.a,{exitBeforeEnter:!0},r.a.createElement(T,Object.assign({},l,{onClick:u,key:l.id,variants:mt}))))),r.a.createElement("div",{className:"ranking-link-container"},r.a.createElement(m.b,{to:"/ranking"},"Voir le classement"))))};function ct(){var t=Object(O.a)(["\n  overflow: hidden;\n\n  main {\n    h1 {\n      font-size: 2rem;\n      text-align: center;\n      margin: 4rem;\n      background: -webkit-linear-gradient(0deg, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n\n    .cat {\n      background-image: none;\n      background-color: var(--secondary-color);\n    }\n\n    ul > li > a {\n      border-radius: 50%;\n    }\n\n    ul.podium {\n      display: flex;\n      flex-wrap: wrap;\n      width: 100%;\n      max-width: 1000px;\n      margin: auto auto var(--spacing-unit-5);\n\n      li {\n        display: flex;\n        justify-content: center;\n\n        &:nth-child(1) {\n          width: 100%;\n          > a > .cat {\n            background-color: goldenrod;\n          }\n        }\n\n        &:nth-child(2) {\n          width: 50%;\n          > a > .cat {\n            background-color: silver;\n          }\n        }\n\n        &:nth-child(3) {\n          width: 50%;\n          > a > .cat {\n            background-color: #905923;\n          }\n        }\n      }\n    }\n\n    ul.list {\n      width: 100%;\n      display: grid;\n      grid-template-columns: repeat(3, auto);\n      grid-gap: var(--spacing-unit-3);\n      grid-auto-rows: auto;\n      justify-content: center;\n      margin-bottom: 64px;\n\n      @media (min-width: 500px) {\n        grid-template-columns: repeat(4, auto);\n      }\n\n      @media (min-width: 992px) {\n        grid-template-columns: repeat(6, auto);\n      }\n\n      @media (min-width: 1200px) {\n        grid-template-columns: repeat(8, auto);\n      }\n\n      > li {\n        display: flex;\n        flex-direction: column;\n\n        > span {\n          padding: var(--spacing-unit-2);\n          text-align: center;\n        }\n\n        > a > .cat {\n          height: 100px;\n          width: 100px;\n        }\n      }\n    }\n  }\n"]);return ct=function(){return t},t}var ut=Object(C.a)(ct()),pt={enter:{opacity:1,transition:{duration:.4}},exit:{opacity:0}},dt={enter:{transition:{staggerChildren:.07}},exit:{transition:{staggerChildren:.05,staggerDirection:-1}}},bt={enter:function(t){return{y:0,opacity:1,transition:{delay:.03*t,duration:.25,y:{stiffness:1e3,velocity:-100}}}},exit:{y:50,opacity:0,transition:{y:{stiffness:1e3}}}},st={tap:{scale:1.2}},ht={type:"spring",damping:60,stiffness:300},gt=function(){var t=z().getCats,e=Object(a.useState)(),n=Object(u.a)(e,2),i=n[0],o=n[1];return Object(a.useEffect)((function(){var e=function(){t().then(o)};return e(),v.on("changes",e),function(){return v.on("changes").unsubscribe(e)}}),[t]),r.a.createElement(K,null,r.a.createElement(c.b.section,{className:ut,animate:"enter",exit:"exit",variants:pt},r.a.createElement("main",null,r.a.createElement(I,{to:"/"}),r.a.createElement("div",null,r.a.createElement("h1",null,"Classement des chats les plus mignons")),r.a.createElement(c.b.ul,{className:"podium",animate:"enter",exit:"exit",variants:dt,key:"podium"},i&&i.slice(0,3).map((function(t,e){return r.a.createElement(c.b.li,{key:t.id,initial:"exit",animate:"enter",exit:"exit",variants:bt,custom:e,positionTransition:ht},r.a.createElement(m.b,{to:"/cat/".concat(t.id)},r.a.createElement(T,Object.assign({},t,{variants:st}))))}))),r.a.createElement(c.b.ul,{className:"list",animate:"enter",exit:"exit",variants:dt,key:"list"},i&&i.slice(3).map((function(t,e){return r.a.createElement(c.b.li,{key:t.id,initial:"exit",animate:"enter",exit:"exit",variants:bt,custom:e,positionTransition:ht},r.a.createElement(m.b,{to:"/cat/".concat(t.id)},r.a.createElement(T,Object.assign({},t,{variants:st}))),r.a.createElement("span",null,e+4))}))))))},ft=n(215),vt=n(38);function xt(){var t=Object(O.a)(["\n  overflow: hidden;\n\n  > main {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    > .cat-container {\n      display: flex;\n      justify-content: space-evenly;\n      align-items: center;\n      width: 80%;\n      max-width: 1000px;\n      min-height: 300px;\n      margin: 60px auto 0;\n\n      span {\n        font-size: 5rem;\n\n        @media (min-width: 992px) {\n          font-size: 8rem;\n        }\n      }\n    }\n\n    > .score-container {\n      width: 100%;\n      max-width: 1000px;\n      margin: 40px auto;\n\n      > h1 {\n        font-size: 2rem;\n        background: -webkit-linear-gradient(0deg, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);\n        -webkit-background-clip: text;\n        -webkit-text-fill-color: transparent;\n      }\n\n      > div {\n        margin-top: var(--spacing-unit-3);\n        padding: var(--spacing-unit-5) var(--spacing-unit-4) var(--spacing-unit-2) 0;\n        padding-bottom: var(--spacing-unit);\n        background-color: var(--secondary-color);\n        box-shadow: var(--box-shadow);\n        border-radius: 4px;\n      }\n    }\n  }\n"]);return xt=function(){return t},t}var jt={enter:{opacity:1,transition:{duration:.4}},exit:{opacity:0}},_t={init:{y:-60,opacity:0},enter:{y:0,opacity:1,transition:{duration:.4}},exit:{opacity:0}},yt={init:{x:-100,opacity:0},enter:{x:0,opacity:1,transition:{duration:.4}},exit:{opacity:0}},wt={init:{scale:.4,opacity:0},enter:{scale:1,opacity:1,transition:{duration:.4}},exit:{opacity:0}},kt=Object(C.a)(xt()),Et=function(){var t=z().getCat,e=Object(tt.g)().id,n=Object(a.useState)(),i=Object(u.a)(n,2),o=i[0],m=i[1];return Object(a.useEffect)((function(){var n=function(){e&&t(parseInt(e)).then(m)},a=function(t){e&&(t.find((function(t){return t.key===parseInt(e)}))&&n())};return n(),v.on("changes",a),function(){return v.on("changes").unsubscribe(a)}}),[t,e]),r.a.createElement(K,null,r.a.createElement(c.b.section,{className:kt,animate:"enter",exit:"exit",variants:jt},r.a.createElement("main",null,r.a.createElement(I,{to:"/ranking"}),r.a.createElement("div",{className:"cat-container"},o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(T,Object.assign({},o,{variants:_t})),r.a.createElement(c.b.span,{initial:"init",animate:"enter",exit:"exit",variants:yt},o.rank))),r.a.createElement("div",{className:"score-container"},r.a.createElement("h1",null,"Evolution du score"),o&&r.a.createElement(c.b.div,{initial:"init",animate:"enter",exit:"exit",variants:wt},r.a.createElement(vt.d,{width:"100%",height:240},r.a.createElement(vt.b,{data:o.eloEvolution.map((function(t){return Object(ft.a)({},t,{value:Math.floor(t.value)})}))},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"value",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"var(--accent-color)",stopOpacity:.8}),r.a.createElement("stop",{offset:"100%",stopColor:"var(--accent-color)",stopOpacity:.2}))),r.a.createElement(vt.e,{isAnimationActive:!1,filterNull:!0,content:r.a.createElement(Q,null)}),r.a.createElement(vt.c,{strokeDasharray:"5",vertical:!1,strokeWidth:1}),r.a.createElement(vt.f,{dataKey:"date"}),r.a.createElement(vt.g,{domain:["dataMin - 100","dataMax + 50"]}),r.a.createElement(vt.a,{type:"monotone",dataKey:"value",stroke:"var(--accent-color)",fill:"url(#value)",fillOpacity:1,strokeWidth:2,dot:{fill:"var(--text-color)",strokeWidth:2}}))))))))};function qt(){var t=Object(O.a)(["\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n\n  section {\n    display: flex;\n    flex-direction: column;\n\n    > header {\n      height: 160px;\n      padding: var(--spacing-unit-2);\n      flex-shrink: 0;\n      position: relative;\n\n      > img {\n        display: block;\n        height: 100%;\n        margin: auto;\n        position: relative;\n        z-index: 2;\n      }\n\n      > h1 {\n        font-family: 'GrumpyCat', sans-serif;\n        font-size: 5rem;\n        display: block;\n        position: absolute;\n        bottom: -20px;\n        left: 0;\n        right: 0;\n        width: 400px;\n        text-align: center;\n        margin: auto;\n        z-index: 1;\n        background: -webkit-linear-gradient(0deg, #3579d7, #3f6bdf, #585ae1, #7640de, #9400d3);\n        -webkit-background-clip: text;\n        -webkit-text-fill-color: transparent;\n      }\n    }\n\n    > main {\n      height: 100%;\n      overflow: hidden;\n    }\n  }\n"]);return qt=function(){return t},t}var zt=Object(C.a)(qt()),Ot={enter:{opacity:1,transition:{duration:.4}},exit:{opacity:0}},Ct=function(){var t=Object(tt.f)();return r.a.createElement(c.b.div,{className:zt,initial:"exit",animate:"enter",exit:"exit",variants:Ot},r.a.createElement(c.a,{exitBeforeEnter:!0},r.a.createElement(tt.c,{location:t,key:t.pathname},r.a.createElement(tt.a,{exact:!0,path:"/",component:lt}),r.a.createElement(tt.a,{exact:!0,path:"/ranking",component:gt}),r.a.createElement(tt.a,{exact:!0,path:"/cat/:id",component:Et}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(t){var e=t.children,n=Object(a.useState)(w),i=Object(u.a)(n,2),o=i[0],m=i[1],l=Object(a.useState)(),c=Object(u.a)(l,2),p=c[0],b=c[1],s=Object(a.useCallback)((function(t){var e,n,a;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===p){r.next=9;break}if(e=p.left.id===t?p.left:p.right,n=p.left.id!==t?p.left:p.right,!e.currentElo||!n.currentElo){r.next=9;break}return a=_(e.currentElo,n.currentElo),r.next=7,d.a.awrap(v.cats.update(e.id,{currentElo:a.winner,eloEvolution:e.eloEvolution.concat(a.winner)}));case 7:return r.next=9,d.a.awrap(v.cats.update(n.id,{currentElo:a.loser,eloEvolution:n.eloEvolution.concat(a.loser)}));case 9:case"end":return r.stop()}}))}),[p]),h=Object(a.useCallback)((function(){return v.cats.reverse().sortBy("currentElo.value")}),[]),g=Object(a.useCallback)((function(t){return h().then((function(e){var n=e.findIndex((function(e){return e.id===t}));if(-1!==n)return e[n].rank=n+1,e[n]}))}),[h]),f=Object(a.useCallback)((function(){h().then((function(t){var e=y(t.length),n=t[e],a=t[e===t.length-1?e-y(8)-1:Math.min(e+y(8)+1,t.length-1)];b({left:n,right:a})}))}),[h]);return Object(a.useEffect)((function(){o===w?new Promise((function(t){setTimeout((function(){t(v.cats.count())}),1500)})).then((function(t){0===t?m(k):(f(),m(E))})):o===k&&function(){var t,e;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={value:1e3,date:new Date},e=[t],n.next=4,d.a.awrap(v.cats.bulkAdd(x.map((function(n){return{image:n,currentElo:t,eloEvolution:e}}))));case 4:return n.abrupt("return",new Promise((function(t){setTimeout((function(){t(v.cats.toArray())}),1200)})));case 5:case"end":return n.stop()}}))}().then((function(){f(),m(E)}))}),[o,f]),r.a.createElement(q.Provider,{value:{appState:o,mash:p,nextMash:f,getCat:g,getCats:h,updateScore:s}},e)}),null,r.a.createElement(m.a,null,r.a.createElement((function(){Object(l.a)();var t=z().appState;return r.a.createElement(c.a,{initial:!1,exitBeforeEnter:!0},(t===w||t===k)&&r.a.createElement($,{key:w,timeout:1500,label:t===k?"Cr\xe9ation des profils...":void 0}),t===E&&r.a.createElement(Ct,{key:E}))}),null))),document.getElementById("root")),setTimeout((function(){document.body.style.transition="background-color 0.3s ease, color 0.3s ease"}),1e3),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[248,1,2]]]);
//# sourceMappingURL=main.37d9b1ac.chunk.js.map